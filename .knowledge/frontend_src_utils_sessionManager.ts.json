{"is_source_file": true, "format": "TypeScript", "description": "This file is a utility module for managing user sessions and OAuth states in a web application, particularly related to Jira and Confluence services. It provides functions for storing, retrieving, clearing, and validating session and OAuth state data in local storage, as well as updating user info and session expiration extensions.", "external_files": [], "external_methods": [], "published": ["SessionData", "SessionManager"], "classes": [{"name": "SessionManager", "description": "A utility class for managing session data and OAuth states for Jira and Confluence integrations."}], "methods": [{"name": "static storeSession(service: 'jira' | 'confluence', sessionData: Omit<SessionData, 'service' |/ storeSession", "description": "Stores session data for a specified service in local storage.", "scope": "SessionManager", "scopeKind": "class"}, {"name": "static getSession(service: 'jira' | 'confluence'): SessionData | null { getSession", "description": "Retrieves session data for a specified service from local storage, checking for expiration.", "scope": "SessionManager", "scopeKind": "class"}, {"name": "static clearSession(service: 'jira' | 'confluence'): void { clearSession", "description": "Removes session data for a specified service from local storage.", "scope": "SessionManager", "scopeKind": "class"}, {"name": "static clearAllSessions(): void { clearAllSessions", "description": "Clears session data for both Jira and Confluence.", "scope": "SessionManager", "scopeKind": "class"}, {"name": "static hasValidSession(service: 'jira' | 'confluence'): boolean { hasValidSession", "description": "Checks if a valid, non-expired session exists for a specified service.", "scope": "SessionManager", "scopeKind": "class"}, {"name": "static storeOAuthState(service: 'jira' | 'confluence', state: string): void { storeOAuthState", "description": "Stores OAuth state string for a specified service to local storage.", "scope": "SessionManager", "scopeKind": "class"}, {"name": "static validateOAuthState(service: 'jira' | 'confluence', state: string): boolean { validateOAuthState", "description": "Validates that a given OAuth state matches the stored state.", "scope": "SessionManager", "scopeKind": "class"}, {"name": "static clearOAuthState(service: 'jira' | 'confluence'): void { clearOAuthState", "description": "Removes stored OAuth state for a specified service.", "scope": "SessionManager", "scopeKind": "class"}, {"name": "static getAllSessions(): { jira: SessionData | null; confluence: SessionData | null } { getAllSessions", "description": "Returns all stored sessions for Jira and Confluence.", "scope": "SessionManager", "scopeKind": "class"}, {"name": "static updateSessionUser(service: 'jira' | 'confluence', user: SessionData['user']): void { updateSessionUser", "description": "Updates user information within an existing session.", "scope": "SessionManager", "scopeKind": "class"}, {"name": "static extendSession(service: 'jira' | 'confluence', extensionMs: number = 24 * 60 * 60 * 1000/ extendSession", "description": "Extends the expiration time of a session by a specified number of milliseconds.", "scope": "SessionManager", "scopeKind": "class"}, {"name": "static isSessionNearExpiry(service: 'jira' | 'confluence'): boolean { isSessionNearExpiry", "description": "Checks if a session is close to its expiration (within 1 hour).", "scope": "SessionManager", "scopeKind": "class"}], "calls": ["localStorage.setItem", "localStorage.getItem", "localStorage.removeItem", "JSON.stringify", "JSON.parse", "Date.now()"], "search-terms": ["session management", "OAuth state", "localStorage", "Jira session", "Confluence session", "session expiration", "session update"], "state": 2, "file_id": 45, "knowledge_revision": 144, "git_revision": "", "ctags": [{"_type": "tag", "name": "OAUTH_STATE_PREFIX", "path": "/home/kavia/workspace/code-generation/unified-jira-confluence-dashboard-170950-170960/frontend/src/utils/sessionManager.ts", "pattern": "/^  private static readonly OAUTH_STATE_PREFIX = 'oauth_state_';$/", "language": "TypeScript", "kind": "property", "scope": "SessionManager", "scopeKind": "class"}, {"_type": "tag", "name": "SESSION_KEY_PREFIX", "path": "/home/kavia/workspace/code-generation/unified-jira-confluence-dashboard-170950-170960/frontend/src/utils/sessionManager.ts", "pattern": "/^  private static readonly SESSION_KEY_PREFIX = 'atlassian_session_';$/", "language": "TypeScript", "kind": "property", "scope": "SessionManager", "scopeKind": "class"}, {"_type": "tag", "name": "SessionData", "path": "/home/kavia/workspace/code-generation/unified-jira-confluence-dashboard-170950-170960/frontend/src/utils/sessionManager.ts", "pattern": "/^export interface SessionData {$/", "language": "TypeScript", "kind": "interface"}, {"_type": "tag", "name": "SessionManager", "path": "/home/kavia/workspace/code-generation/unified-jira-confluence-dashboard-170950-170960/frontend/src/utils/sessionManager.ts", "pattern": "/^export class SessionManager {$/", "language": "TypeScript", "kind": "class"}, {"_type": "tag", "name": "clearAllSessions", "path": "/home/kavia/workspace/code-generation/unified-jira-confluence-dashboard-170950-170960/frontend/src/utils/sessionManager.ts", "pattern": "/^  static clearAllSessions(): void {$/", "language": "TypeScript", "kind": "method", "scope": "SessionManager", "scopeKind": "class"}, {"_type": "tag", "name": "clearOAuthState", "path": "/home/kavia/workspace/code-generation/unified-jira-confluence-dashboard-170950-170960/frontend/src/utils/sessionManager.ts", "pattern": "/^  static clearOAuthState(service: 'jira' | 'confluence'): void {$/", "language": "TypeScript", "kind": "method", "scope": "SessionManager", "scopeKind": "class"}, {"_type": "tag", "name": "clearSession", "path": "/home/kavia/workspace/code-generation/unified-jira-confluence-dashboard-170950-170960/frontend/src/utils/sessionManager.ts", "pattern": "/^  static clearSession(service: 'jira' | 'confluence'): void {$/", "language": "TypeScript", "kind": "method", "scope": "SessionManager", "scopeKind": "class"}, {"_type": "tag", "name": "createdAt", "path": "/home/kavia/workspace/code-generation/unified-jira-confluence-dashboard-170950-170960/frontend/src/utils/sessionManager.ts", "pattern": "/^        createdAt: Date.now(),$/", "language": "TypeScript", "kind": "constant", "scope": "SessionManager.storeSession", "scopeKind": "method"}, {"_type": "tag", "name": "createdAt", "path": "/home/kavia/workspace/code-generation/unified-jira-confluence-dashboard-170950-170960/frontend/src/utils/sessionManager.ts", "pattern": "/^  createdAt: number;$/", "language": "TypeScript", "kind": "property", "scope": "SessionData", "scopeKind": "interface"}, {"_type": "tag", "name": "data", "path": "/home/kavia/workspace/code-generation/unified-jira-confluence-dashboard-170950-170960/frontend/src/utils/sessionManager.ts", "pattern": "/^      const data: SessionData = JSON.parse(stored);$/", "language": "TypeScript", "kind": "constant", "scope": "SessionManager.getSession", "scopeKind": "method"}, {"_type": "tag", "name": "data", "path": "/home/kavia/workspace/code-generation/unified-jira-confluence-dashboard-170950-170960/frontend/src/utils/sessionManager.ts", "pattern": "/^      const data: SessionData = {$/", "language": "TypeScript", "kind": "constant", "scope": "SessionManager.storeSession", "scopeKind": "method"}, {"_type": "tag", "name": "expiresAt", "path": "/home/kavia/workspace/code-generation/unified-jira-confluence-dashboard-170950-170960/frontend/src/utils/sessionManager.ts", "pattern": "/^  expiresAt?: number;$/", "language": "TypeScript", "kind": "property", "scope": "SessionData", "scopeKind": "interface"}, {"_type": "tag", "name": "extendSession", "path": "/home/kavia/workspace/code-generation/unified-jira-confluence-dashboard-170950-170960/frontend/src/utils/sessionManager.ts", "pattern": "/^  static extendSession(service: 'jira' | 'confluence', extensionMs: number = 24 * 60 * 60 * 1000/", "language": "TypeScript", "kind": "method", "scope": "SessionManager", "scopeKind": "class"}, {"_type": "tag", "name": "getAllSessions", "path": "/home/kavia/workspace/code-generation/unified-jira-confluence-dashboard-170950-170960/frontend/src/utils/sessionManager.ts", "pattern": "/^  static getAllSessions(): { jira: SessionData | null; confluence: SessionData | null } {$/", "language": "TypeScript", "kind": "method", "scope": "SessionManager", "scopeKind": "class"}, {"_type": "tag", "name": "getSession", "path": "/home/kavia/workspace/code-generation/unified-jira-confluence-dashboard-170950-170960/frontend/src/utils/sessionManager.ts", "pattern": "/^  static getSession(service: 'jira' | 'confluence'): SessionData | null {$/", "language": "TypeScript", "kind": "method", "scope": "SessionManager", "scopeKind": "class"}, {"_type": "tag", "name": "hasValidSession", "path": "/home/kavia/workspace/code-generation/unified-jira-confluence-dashboard-170950-170960/frontend/src/utils/sessionManager.ts", "pattern": "/^  static hasValidSession(service: 'jira' | 'confluence'): boolean {$/", "language": "TypeScript", "kind": "method", "scope": "SessionManager", "scopeKind": "class"}, {"_type": "tag", "name": "isSessionNearExpiry", "path": "/home/kavia/workspace/code-generation/unified-jira-confluence-dashboard-170950-170960/frontend/src/utils/sessionManager.ts", "pattern": "/^  static isSessionNearExpiry(service: 'jira' | 'confluence'): boolean {$/", "language": "TypeScript", "kind": "method", "scope": "SessionManager", "scopeKind": "class"}, {"_type": "tag", "name": "oneHour", "path": "/home/kavia/workspace/code-generation/unified-jira-confluence-dashboard-170950-170960/frontend/src/utils/sessionManager.ts", "pattern": "/^    const oneHour = 60 * 60 * 1000;$/", "language": "TypeScript", "kind": "constant", "scope": "SessionManager.isSessionNearExpiry", "scopeKind": "method"}, {"_type": "tag", "name": "service", "path": "/home/kavia/workspace/code-generation/unified-jira-confluence-dashboard-170950-170960/frontend/src/utils/sessionManager.ts", "pattern": "/^        service,$/", "language": "TypeScript", "kind": "constant", "scope": "SessionManager.storeSession", "scopeKind": "method"}, {"_type": "tag", "name": "service", "path": "/home/kavia/workspace/code-generation/unified-jira-confluence-dashboard-170950-170960/frontend/src/utils/sessionManager.ts", "pattern": "/^  service: 'jira' | 'confluence';$/", "language": "TypeScript", "kind": "property", "scope": "SessionData", "scopeKind": "interface"}, {"_type": "tag", "name": "session", "path": "/home/kavia/workspace/code-generation/unified-jira-confluence-dashboard-170950-170960/frontend/src/utils/sessionManager.ts", "pattern": "/^    const session = this.getSession(service);$/", "language": "TypeScript", "kind": "constant", "scope": "SessionManager.extendSession", "scopeKind": "method"}, {"_type": "tag", "name": "session", "path": "/home/kavia/workspace/code-generation/unified-jira-confluence-dashboard-170950-170960/frontend/src/utils/sessionManager.ts", "pattern": "/^    const session = this.getSession(service);$/", "language": "TypeScript", "kind": "constant", "scope": "SessionManager.isSessionNearExpiry", "scopeKind": "method"}, {"_type": "tag", "name": "session", "path": "/home/kavia/workspace/code-generation/unified-jira-confluence-dashboard-170950-170960/frontend/src/utils/sessionManager.ts", "pattern": "/^    const session = this.getSession(service);$/", "language": "TypeScript", "kind": "constant", "scope": "SessionManager.updateSessionUser", "scopeKind": "method"}, {"_type": "tag", "name": "sessionId", "path": "/home/kavia/workspace/code-generation/unified-jira-confluence-dashboard-170950-170960/frontend/src/utils/sessionManager.ts", "pattern": "/^  sessionId: string;$/", "language": "TypeScript", "kind": "property", "scope": "SessionData", "scopeKind": "interface"}, {"_type": "tag", "name": "storeOAuthState", "path": "/home/kavia/workspace/code-generation/unified-jira-confluence-dashboard-170950-170960/frontend/src/utils/sessionManager.ts", "pattern": "/^  static storeOAuthState(service: 'jira' | 'confluence', state: string): void {$/", "language": "TypeScript", "kind": "method", "scope": "SessionManager", "scopeKind": "class"}, {"_type": "tag", "name": "storeSession", "path": "/home/kavia/workspace/code-generation/unified-jira-confluence-dashboard-170950-170960/frontend/src/utils/sessionManager.ts", "pattern": "/^  static storeSession(service: 'jira' | 'confluence', sessionData: Omit<SessionData, 'service' |/", "language": "TypeScript", "kind": "method", "scope": "SessionManager", "scopeKind": "class"}, {"_type": "tag", "name": "stored", "path": "/home/kavia/workspace/code-generation/unified-jira-confluence-dashboard-170950-170960/frontend/src/utils/sessionManager.ts", "pattern": "/^      const stored = localStorage.getItem(`${this.OAUTH_STATE_PREFIX}${service}`);$/", "language": "TypeScript", "kind": "constant", "scope": "SessionManager.validateOAuthState", "scopeKind": "method"}, {"_type": "tag", "name": "stored", "path": "/home/kavia/workspace/code-generation/unified-jira-confluence-dashboard-170950-170960/frontend/src/utils/sessionManager.ts", "pattern": "/^      const stored = localStorage.getItem(`${this.SESSION_KEY_PREFIX}${service}`);$/", "language": "TypeScript", "kind": "constant", "scope": "SessionManager.getSession", "scopeKind": "method"}, {"_type": "tag", "name": "updateSessionUser", "path": "/home/kavia/workspace/code-generation/unified-jira-confluence-dashboard-170950-170960/frontend/src/utils/sessionManager.ts", "pattern": "/^  static updateSessionUser(service: 'jira' | 'confluence', user: SessionData['user']): void {$/", "language": "TypeScript", "kind": "method", "scope": "SessionManager", "scopeKind": "class"}, {"_type": "tag", "name": "user", "path": "/home/kavia/workspace/code-generation/unified-jira-confluence-dashboard-170950-170960/frontend/src/utils/sessionManager.ts", "pattern": "/^  user?: {$/", "language": "TypeScript", "kind": "property", "scope": "SessionData", "scopeKind": "interface"}, {"_type": "tag", "name": "validateOAuthState", "path": "/home/kavia/workspace/code-generation/unified-jira-confluence-dashboard-170950-170960/frontend/src/utils/sessionManager.ts", "pattern": "/^  static validateOAuthState(service: 'jira' | 'confluence', state: string): boolean {$/", "language": "TypeScript", "kind": "method", "scope": "SessionManager", "scopeKind": "class"}], "hash": "97d779f8024b217d59ea4ae28dd20dfb", "format-version": 4, "code-base-name": "frontend", "filename": "frontend/src/utils/sessionManager.ts", "fields": [{"name": "private static readonly OAUTH_STATE_PREFIX = 'oauth_state_';", "scope": "SessionManager", "scopeKind": "class", "description": "unavailable"}, {"name": "private static readonly SESSION_KEY_PREFIX = 'atlassian_session_';", "scope": "SessionManager", "scopeKind": "class", "description": "unavailable"}, {"name": "export interface SessionData {", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "createdAt: number;", "scope": "SessionData", "scopeKind": "interface", "description": "unavailable"}, {"name": "expiresAt?: number;", "scope": "SessionData", "scopeKind": "interface", "description": "unavailable"}, {"name": "service: 'jira' | 'confluence';", "scope": "SessionData", "scopeKind": "interface", "description": "unavailable"}, {"name": "sessionId: string;", "scope": "SessionData", "scopeKind": "interface", "description": "unavailable"}, {"name": "user?: {", "scope": "SessionData", "scopeKind": "interface", "description": "unavailable"}], "revision_history": [{"144": ""}]}